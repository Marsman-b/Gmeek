{% extends "base-enhanced.html" %}

{% block head %}
<title>{{ postMsg['title'] }} - {{ blogBase['title'] }}</title>
<meta name="description" content="{{ postMsg['body'][:150] if postMsg['body'] else '' }}">
{% endblock %}

{% block header %}
<a href="{{ blogBase['homeUrl'] }}" style="text-decoration:none;color:var(--color-fg-default);font-weight:600;font-size:18px;">
    {{ blogBase['displayTitle'] }}
</a>
{% endblock %}

{% block content %}
<article>
    <h1 style="margin-top:0;border-bottom:2px solid var(--archer-primary);padding-bottom:12px;">
        {{ postMsg['title'] }}
    </h1>

    <div style="color:var(--color-fg-muted);font-size:14px;margin-bottom:24px;">
        <span>üìÖ {{ postMsg['created_at'][:10] }}</span>
        {% if postMsg['labels'] %}
        <span style="margin-left:16px;">üè∑Ô∏è
            {% for label in postMsg['labels'] %}
            <a href="{{ blogBase['homeUrl'] }}?tag={{ label['name'] }}"
               style="color:{{ blogBase['labelColorDict'].get(label['name'], '#333') }};margin-right:8px;">
                {{ label['name'] }}
            </a>
            {% endfor %}
        </span>
        {% endif %}
    </div>

    <div class="markdown-body">
        {{ postMsg['body_html'] }}
    </div>
</article>

{% if blogBase['needComment']==1 %}
<div id="utterances-container" style="margin-top:48px;"></div>
<script>
    var script = document.createElement('script');
    script.src = "https://utteranc.es/client.js";
    script.setAttribute("repo", "{{ blogBase['repo'] }}");
    script.setAttribute("issue-term", "{{ postMsg['number'] }}");
    script.setAttribute("theme", "github-light");
    script.setAttribute("crossorigin", "anonymous");
    script.setAttribute("async", "");
    document.getElementById('utterances-container').appendChild(script);
    utterancesLoad = 1;
</script>
{% endif %}
{% endblock %}
