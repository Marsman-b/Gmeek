{% extends "base-enhanced.html" %}

{% block head %}
<meta name="description" content="{{ blogBase['description'] }}">
<meta property="og:title" content="{{ blogBase['postTitle'] }}">
<meta property="og:description" content="{{ blogBase['description'] }}">
<meta property="og:type" content="article">
<meta property="og:url" content="{{ blogBase['postUrl'] }}">
<meta property="og:image" content="{{ blogBase['ogImage'] }}">
<title>{{ blogBase['postTitle'] }}</title>
{% if blogBase['highlight']==1 %}
<link href="//unpkg.com/@wooorm/starry-night@2.1.1/style/both.css" rel="stylesheet" />
{% endif %}
{{ blogBase['head'] }}
{% endblock %}

{% block header %}
<a href="{{ blogBase['homeUrl'] }}" style="text-decoration:none;color:var(--color-fg-default);font-weight:600;font-size:18px;">
    {{ blogBase['displayTitle'] }}
</a>
{% endblock %}

{% block content %}
<article>
    <h1 class="postTitle" style="margin-top:0;border-bottom:2px solid var(--archer-primary);padding-bottom:12px;">
        {{ blogBase['postTitle'] }}
    </h1>

    <div style="color:var(--color-fg-muted);font-size:14px;margin-bottom:24px;">
        <span>üìÖ {{ blogBase['createdAt'][:10] }}</span>
        {% if blogBase['postLabel'] %}
        <span style="margin-left:16px;">üè∑Ô∏è {{ blogBase['postLabel'] }}</span>
        {% endif %}
    </div>

    <div id="postBody" class="markdown-body">
        {{ blogBase['body'] }}
    </div>
</article>

{% if blogBase['needComment']==1 %}
<div id="cmButton">
    <span class="commenttext" onclick="cmButton()">{{ i18n["com_text"] }}</span>
</div>
<div id="comments"></div>
{% endif %}
{% endblock %}

{% block script %}
{% if blogBase['needComment']==1 %}
<script>
function cmButton(){
    var cmButton=document.getElementById("cmButton");
    var comments=document.createElement("div");
    comments.setAttribute("id","comments");
    var script = document.createElement('script');
    script.src='https://utteranc.es/client.js';
    script.setAttribute('repo','{{ blogBase["repo"] }}');
    script.setAttribute('issue-term','{{ blogBase["postTitle"] }}');
    script.setAttribute('theme','{{ blogBase["utterancesTheme"] }}');
    script.setAttribute('crossorigin','anonymous');
    script.async=true;
    comments.appendChild(script);
    cmButton.parentNode.replaceChild(comments,cmButton);
    utterancesLoad=1;
}
</script>
{% endif %}
{% endblock %}
